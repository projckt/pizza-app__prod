import{r as e,h as t,d as s,H as i}from"./p-76bbd7fc.js";import{s as l}from"./p-efed8a23.js";import{V as a}from"./p-627d7603.js";let n=class{constructor(t){e(this,t),this.theme="default",this.styleClasses="default"}componentWillLoad(){this.generate_Styles()}generate_Styles(){"danger"===this.theme&&(this.styleClasses=this.styleClasses+" danger")}render(){return t("div",{class:this.styleClasses},t("slot",null))}};n.style=".default{display:block;padding:var(--site-padding-default);border-radius:var(--site-border-radius)}.danger{background:var(--red-lightest);color:var(--red-dark);border:1px solid var(--red-lightest)}";let r=class{constructor(t){e(this,t)}render(){return t("ul",null,t("slot",null))}};r.style="ul{margin:0;padding:0;list-style-type:none}";let o=class{constructor(t){e(this,t)}render(){return t("li",null,t("slot",null))}};o.style="li{margin:0;padding:calc(var(--site-padding-default) * 2) 0 calc(var(--site-padding-default) * 1.5) 0;border-bottom:1px solid var(--grey-lightest)}";let c=class{constructor(t){e(this,t),this.event_SelectInput=s(this,"event_selectInput",7),this.styleClasses="default"}componentWillLoad(){this.generate_StyleClasses(),this.parse_OptionsString(),this.init()}generate_StyleClasses(){}parse_OptionsString(){this.parsed_Options=JSON.parse(this.options)}init(){this.event_SelectInput.emit({name:this.name,value:this.parsed_Options[0].id.trim()})}handle_SelectInput(e){this.event_SelectInput.emit({name:this.name,value:e.target.value.trim()})}render(){return t("select",{class:this.styleClasses,onChange:e=>this.handle_SelectInput(e)},this.parsed_Options.map((e=>t("option",{value:e.id},e.title))))}};c.style="select{display:block;box-sizing:border-box;width:100%}.default{border:1px solid rgba(0, 0, 0, 0.1);border-radius:0.25em;padding:0.25em}.default:hover{cursor:pointer;border:1px solid rgba(0, 0, 0, 0.3)}";let d=class{constructor(s){e(this,s),this.id_Publication="",this.heading="",this.sub_Heading="",this.description="",this.url_Sample="",this.url_Toc="",this.url_Cover="",this.isSkel=!1,this.isDisabled_Buy_Button=!1,this.isLoaded=!1,this.ui_Skel=()=>t("div",null,t("l-row",{justifyContent:"space-between"},t("div",null,t("div",{class:"skel-item skel-item-300"}),t("l-spacer",{value:1}),t("div",{class:"skel-item skel-item-300"}),t("l-spacer",{value:1.5}),t("div",{class:"skel-item skel-item-200"})),t("div",null,t("div",{class:"skel-item skel-item-150"}),t("l-spacer",{value:1}),t("div",{class:"skel-item skel-item-200"})))),this.ui_Default=()=>t("l-row",{justifyContent:"space-between",align:"baseline"},t("div",{class:"publication--info"},t("e-text",null,this.heading,", ",this.sub_Heading),t("l-row",null,t("e-text",null,t("e-link",{href:this.url_Toc,target:"_blank"},"Contents")),t("l-spacer",{variant:"horizontal",value:.5}),t("e-text",null,t("e-link",{href:this.url_Sample,target:"_blank"},"Abstracts")),t("l-spacer",{variant:"horizontal",value:.5}),t("e-text",null,t("e-link",{href:this.url_Cover,target:"_blank"},"Cover"))),t("l-spacer",{value:.5}),t("e-text",{variant:"footnote"},this.description)),t("div",{class:"publication--pricing"},t("l-row",{justifyContent:"space-between"},t("e-select",{options:this.documents,name:"select_Document"})),t("l-spacer",{value:1}),t("l-row",{justifyContent:"space-between"},t("e-text",null,this.price_Active_Document),t("e-button",{action:"goToCheckout",value:this.id_Active_Document,size:"wide",disabled:this.isDisabled_Buy_Button},"Buy"))))}handle_SelectInput(e){"select_Document"===e.detail.name&&this.isLoaded&&this.fetch_DocumentPrice(e.detail.value)}componentWillLoad(){this.documents&&this.generate_Price_Active_Document()}componentDidLoad(){this.isLoaded=!0}async fetch_DocumentPrice(e){this.isDisabled_Buy_Button=!0;let t=(e=>({id_Document:e}))(e),{success:s,message:i,payload:l}=await(async e=>{let t,s=`${a.api.url}/${a.api.endpoint.document.price}`,i={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)};return await fetch(s,i).then((e=>e.json())).then((e=>{t=e})).catch((e=>{console.log(e)})),{success:t.success,message:t.message,payload:t.payload}})(t);if(!s)return alert(i);this.id_Active_Document=l.id,this.price_Active_Document=`${l.currency}${l.price}`,this.isDisabled_Buy_Button=!1}generate_Price_Active_Document(){let e=JSON.parse(this.documents);this.price_Active_Document=`${e[0].currency}${e[0].price}`,this.id_Active_Document=e[0].id}render(){return t(i,null,t(this.isSkel?this.ui_Skel:this.ui_Default,null))}};d.style=":host{display:block;box-sizing:border-box;width:100%}.publication--info{width:45%}.publication--pricing{width:25%}@keyframes skel-shine{0%{background-position:-100px}40%,100%{background-position:140px}}.skel-item{height:10px;width:30px;background:rgba(0, 0, 0, 0.1);border-radius:var(--site-border-radius);background-image:linear-gradient(90deg, #f4f4f4 0px, rgba(229, 229, 229, 0.8) 40%, #f4f4f4 100%);background-size:200%;animation:skel-shine 1s infinite ease-out}.skel-item-300{width:300px}.skel-item-200{width:200px}.skel-item-150{width:150px}";let u=class{constructor(t){e(this,t),this.event_RouteTo=s(this,"event_RouteTo",7)}handle_LinkClick(e){"logout"===e.detail.action&&this.handle_Logout()}async handle_Logout(){let{success:e,message:t,payload:s}=await(async()=>{let e,t=!1,s=`${a.api.url}/${a.api.endpoint.logout}`;return await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((e=>e.json())).then((s=>{e=s,t=!0})).catch((e=>{console.log(e)})),t?{success:!0,message:e.message,payload:e}:{success:!1,message:e.message,payload:{}}})();return e?s.success?(localStorage.clear(),l.isActive_Session=s.isActive_Session,void this.event_RouteTo.emit({type:"push",route:"/login",data:{}})):alert(s.message):alert(t)}render(){return t("c-card",null,t("l-row",null,t("ion-icon",{name:"person-outline"}),t("l-spacer",{variant:"horizontal",value:.25}),t("e-text",null,l.account_FirstName)),t("l-spacer",{value:.5}),t("l-seperator",null),t("l-spacer",{value:.5}),t("e-link",{action:"settings",event:!0},t("l-row",null,t("ion-icon",{name:"settings-outline"}),t("l-spacer",{variant:"horizontal",value:.25}),t("e-text",null,"Settings"))),t("l-spacer",{value:.5}),t("e-link",{theme:"danger",action:"logout",event:!0},t("l-row",null,t("ion-icon",{name:"log-out-outline"}),t("l-spacer",{variant:"horizontal",value:.25}),t("e-text",null,"Logout"))))}};u.style="";export{n as c_banner,r as e_list,o as e_list_item,c as e_select,d as p_publication,u as p_user_control}