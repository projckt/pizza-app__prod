import{r as e,d as s,h as t,H as i}from"./p-76bbd7fc.js";import{i as a}from"./p-9327ba3c.js";import"./p-efed8a23.js";import{V as n}from"./p-627d7603.js";import"./p-d4a71799.js";let r=class{constructor(i){e(this,i),this.event_RouteTo=s(this,"event_RouteTo",7),this.isFetched_ViewData=!1,this.UI_Skel=()=>t("c-card",null,t("e-text",null,t("strong",null,"Confirming payment..")),t("div",{class:"skel__line"}),t("div",{class:"skel__line"}),t("div",{class:"skel__line"})),this.UI_Default=()=>t("c-card",null,t("h1",{class:"text--success"},"Payment Successful"),t("l-spacer",{value:1}),t("e-text",null,"Thank you for purchasing ",t("strong",null,this.title_Purchase)),t("e-text",null,"It has been added to your library."),t("l-spacer",{value:1}),t("e-link",{action:"myLibrary",event:!0},t("strong",null,"Go to library")))}handle_LinkClick(e){"myLibrary"===e.detail.action&&this.event_RouteTo.emit({type:"push",route:"/my-library",data:{}})}componentWillLoad(){this.match.params.id_Session||this.event_RouteTo.emit({type:"push",route:"/store",data:{}}),this.id_Session=this.match.params.id_Session.trim()}componentDidLoad(){setTimeout((()=>{this.fetch_ViewData()}),3e3)}async fetch_ViewData(){let e={id_Session:this.id_Session.trim()},{success:s,message:t,payload:i}=await(async e=>{let s,t=`${n.api.url}/${n.api.endpoint.stripe.check_Session}`,i={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)};return await fetch(t,i).then((e=>e.json())).then((e=>{s=e})).catch((e=>{console.log(e)})),{success:s.success,message:s.message,payload:s.payload}})(e);if(!s)return alert(t);this.title_Purchase=i.title_Purchase,this.isFetched_ViewData=!0}render(){return t(i,null,t(this.isFetched_ViewData?this.UI_Default:this.UI_Skel,null))}};a(r),r.style=":host{display:flex;width:100%;height:100vh;background:var(--green-lightest);justify-content:space-around;align-items:center}.text--success{font-family:'PT Serif', serif;color:var(--green-dark);margin:0;padding:0}.skel__line{height:10px;width:500px;background:rgba(0, 0, 0, 0.1);border-radius:var(--site-border-radius);background-image:linear-gradient(90deg, #f4f4f4 0px, rgba(229, 229, 229, 0.8) 40%, #f4f4f4 100%);background-size:200%;animation:skel-shine 1s infinite ease-out;margin-top:1em;margin-bottom:1.5em}@keyframes skel-shine{0%{background-position:-100px}40%,100%{background-position:140px}}";export{r as v_payment_handle}